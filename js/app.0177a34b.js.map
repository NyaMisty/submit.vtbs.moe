{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/vdb/test/group.js","webpack:///./src/worker/warp.js","webpack:///./src/vdb/test/id.js","webpack:///./src/vdb/test/index.js","webpack:///./src/worker/worker.js?5624","webpack:///./src/App.vue?d4ac","webpack:///./src/components/login/w.js","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/views/Home.vue?d615","webpack:///./src/components/list.vue?94b8","webpack:///./src/worker/index.js","webpack:///./src/components/list/vtb.vue?5cc1","webpack:///src/components/list/vtb.vue","webpack:///./src/components/list/vtb.vue?931e","webpack:///./src/components/list/vtb.vue","webpack:///src/components/list.vue","webpack:///./src/components/list.vue?c2a2","webpack:///./src/components/list.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?2b8c","webpack:///./src/views/Home.vue","webpack:///./src/views/Submit.vue?c8c3","webpack:///./src/components/diff.vue?a87c","webpack:///./src/components/diff/change.vue?646c","webpack:///src/components/diff/change.vue","webpack:///./src/components/diff/change.vue?a99e","webpack:///./src/components/diff/change.vue","webpack:///src/components/diff.vue","webpack:///./src/components/diff.vue?921c","webpack:///./src/components/diff.vue","webpack:///./src/components/diff/serialize.vue?d884","webpack:///src/components/diff/serialize.vue","webpack:///./src/components/diff/serialize.vue?4185","webpack:///./src/components/diff/serialize.vue","webpack:///./src/components/diff/issue.vue?82dd","webpack:///src/components/diff/issue.vue","webpack:///./src/components/diff/issue.vue?94ce","webpack:///./src/components/diff/issue.vue","webpack:///./src/components/diff/test.vue?f60f","webpack:///src/components/diff/test.vue","webpack:///./src/components/diff/test.vue?2ac5","webpack:///./src/components/diff/test.vue","webpack:///src/views/Submit.vue","webpack:///./src/views/Submit.vue?7f1f","webpack:///./src/views/Submit.vue","webpack:///./src/views/Edit.vue?efa1","webpack:///src/views/Edit.vue","webpack:///./src/views/Edit.vue?b4d2","webpack:///./src/views/Edit.vue","webpack:///./src/views/Workspace.vue?2142","webpack:///src/views/Workspace.vue","webpack:///./src/views/Workspace.vue?215f","webpack:///./src/views/Workspace.vue","webpack:///./src/views/Login.vue?151e","webpack:///./src/components/login/status.vue?8f68","webpack:///src/components/login/status.vue","webpack:///./src/components/login/status.vue?e6c3","webpack:///./src/components/login/status.vue","webpack:///./src/components/login/code.vue?4d6b","webpack:///./src/components/login/login.vue?7e8c","webpack:///src/components/login/login.vue","webpack:///./src/components/login/login.vue?5fe5","webpack:///./src/components/login/login.vue","webpack:///src/components/login/code.vue","webpack:///./src/components/login/code.vue?70df","webpack:///./src/components/login/code.vue","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?09c2","webpack:///./src/views/Login.vue","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/components/list/vtb.vue?8768","webpack:///./src/components/diff/change.vue?bbb0","webpack:///./src/vdb/parse.js","webpack:///./src/vdb/test/repeat.js","webpack:///./src/components/diff/issue.vue?97df","webpack:///./src/components/list.vue?8cad","webpack:///./src/views/Edit.vue?8021","webpack:///./src/vdb/test/filename.js","webpack:///./src/vdb/test/platform.js","webpack:///./src/vdb/test/account.js","webpack:///./src/components/diff/serialize.vue?e88c","webpack:///./src/App.vue?f4f6","webpack:///./src/worker/worker.js","webpack:///./src/views/Workspace.vue?925a"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","vtbs","errors","table","fromEntries","map","vtb","uuid","forEach","group","default","warpWorker","isWorker","self","warps","resolveMap","Map","runningMap","randomString","String","Math","random","eventEmitter","EventEmitter","worker","Error","addEventListener","delete","emit","entries","fNum","params","postMessage","warp","f","warpF","Promise","resolve","set","displayName","registerName","flatMap","accounts","id","filter","Boolean","require","repeat","platform","account","filename","tests","vdb","files","Worker","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_m","_v","_s","diff","workspaceList","currentState","_e","_l","ref","run","style","bottom","staticRenderFns","IS_LOCAL","location","hostname","CLIENT_ID","CLIENT_SECRET","getGithubLoginUrl","url","URL","searchParams","toString","getToken","code","fetch","method","headers","Accept","body","JSON","stringify","client_secret","client_id","response","json","token","access_token","getUser","Authorization","login","email","avatar","avatar_url","html_url","saveToken","localStorage","submitToken","removeItem","readToken","mounted","loadWorkspaceList","fsLoaded","loadFs","updateToken","computed","methods","component","class","searching","directives","rawName","expression","domProps","on","$event","target","composing","searchInput","height","totalHeight","file","ref$1","top","refInFor","displayFileList","fList","type","remove","onceCache","has","wait","then","props","currentFile","undefined","watch","immediate","renderTop","lastIntersect","renderedList","Array","RENDER_LENGTH","fill","observer","intersectionObserver","searchResult","created","IntersectionObserver","render","fileList","search","newVal","oldVal","start","end","max","beforeDestroy","disconnect","components","detectors","num","status","reset","cmd","content","diffLength","input","issue","username","isArray","githubCommit","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","urlLoading","submit","commit","setCommit","command","updateIssue","handler","error","loading","editing","$set","names","deleteName","addName","$$selectedVal","options","selected","val","_value","multiple","bot","urls","startsWith","platformName","deleteAccount","addAccount","saving","fileName","save","backup","blank","deep","saved","parse","groupAuto","platforms","meta","linkSyntax","lang","flat","endsWith","replace","workspaceCount","indexOf","_k","keyCode","load","workspaceListLoaded","extra","logout","mapState","fail","failed","Vue","use","VueRouter","routes","path","Home","Submit","Edit","Workspace","Login","route","query","router","base","process","Vuex","namespaced","state","getters","mutations","setToken","setUsername","setName","setEmail","setExtra","newValue","actions","catch","Store","loadedFs","updateFileList","newList","updateMeta","updateDiff","updateWorkspaceList","list","loadFileList","dispatch","getList","getMeta","loadDiff","config","productionTip","store","h","App","$mount","uuidv5","v5","UUID_NAMESPACE","parsed","ids","neverSubmit","knowAccounts","reportError","txt","values","reporter","neverSubmitList","includes","no","split","_","some","char","join","Number","isNaN","fs","newFs","newFsLowerCaseFileMap","workspace","level","newFsJsonSearchMap","encodeBase64","string","Buffer","from","fetchJson","updateNewFsJsonSearchMap","keys","toLowerCase","createKeyStream","saveWorkspace","put","loadWorkspace","deleteWorkspace","del","getFs","reverse","getGroupList","searchList","every","getVtbJson","deleteVtb","saveVtb","fileLowerCase","resetVtb","vdbParse","test","vdbTest","diffFile","Set","generateLink","w","linkFormat","describeDiff","change","links","link","detail","sort","serializeDiff","extraCommands","encodeDiff","line","cmds","makeIssue","description","submitDiff","console","log","title"],"mappings":"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","file":"js/app.0177a34b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = ({ vtbs }) => {\n  let errors = []\n  const table = Object.fromEntries(vtbs.map(vtb => [vtb.uuid, vtb]))\n  vtbs.forEach(({ group, name }) => {\n    if (group && !table[group]) {\n      errors.push(`社团不存在, no group ${name[name.default]}`)\n    }\n  })\n  return errors\n}\n","import EventEmitter from 'events'\n\nconst isWorker = !self.window\n\nlet warpWorker\nconst warps = []\nconst resolveMap = new Map()\nconst runningMap = new Map()\n\nconst randomString = () => String(Math.random())\n\nexport const eventEmitter = new EventEmitter()\n\nexport const apply = worker => {\n  if (!warpWorker) {\n    warpWorker = worker\n    worker.addEventListener('message', ({ data: { key, data } }) => {\n      resolveMap.get(key)(data)\n      resolveMap.delete(key)\n      runningMap.delete(key)\n      eventEmitter.emit('running', [...runningMap.entries()])\n    })\n  } else {\n    throw new Error('Worker??')\n  }\n}\n\nif (isWorker) {\n  self.addEventListener('message', async ({ data: { fNum, params, key } }) => {\n    self.postMessage({ key, data: await warps[fNum](...params) })\n  })\n}\n\nexport const warp = f => {\n  const fNum = warps.length\n  warps.push(f)\n  const warpF = (...params) => {\n    if (warpWorker) {\n      return new Promise(resolve => {\n        if (warpWorker) {\n          const key = randomString()\n          resolveMap.set(key, resolve)\n          runningMap.set(key, f.displayName)\n          eventEmitter.emit('c', [...runningMap.entries()])\n          warpWorker.postMessage({ fNum, params, key })\n        }\n      })\n    } else {\n      return f(...params)\n    }\n  }\n  warpF.registerName = name => {\n    f.displayName = name\n  }\n  return warpF\n}\n","module.exports = ({ vtbs }) => vtbs\n  .flatMap(({ accounts }) => accounts)\n  .map(({ id }) => typeof id === 'string' ? false : `id is not string, ${id}`)\n  .filter(Boolean)\n","const group = require('./group')\nconst repeat = require('./repeat')\nconst platform = require('./platform')\nconst id = require('./id')\nconst account = require('./account')\nconst filename = require('./filename')\n\nconst tests = [group, repeat, id, platform, account, filename]\n\nmodule.exports = (vdb, files) => tests.flatMap(f => f(vdb, files))\n","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"0ac84bd8085510b34c9e.worker.js\");\n};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',[_c('section',{staticClass:\"hero is-success is-fullheight is-bold\"},[_vm._m(0),_c('div',{staticClass:\"hero-foot\"},[(_vm.fsLoaded)?_c('nav',{staticClass:\"tabs\"},[_c('div',{staticClass:\"container\"},[_c('ul',[_c('router-link',{staticClass:\"link\",attrs:{\"tag\":\"li\",\"to\":\"/\"}},[_c('a',{staticClass:\"aLink\"},[_vm._v(\"Panel\")])]),_c('router-link',{staticClass:\"link\",attrs:{\"tag\":\"li\",\"to\":\"/edit\"}},[_c('a',{staticClass:\"aLink\"},[_vm._v(\"新建\")])]),_c('router-link',{staticClass:\"link\",attrs:{\"tag\":\"li\",\"to\":\"/submit\"}},[_c('a',{staticClass:\"aLink\"},[_vm._v(\"提交!(\"+_vm._s(_vm.diff.length)+\")\")])]),_c('router-link',{staticClass:\"link\",attrs:{\"tag\":\"li\",\"to\":\"/workspace\"}},[_c('a',{staticClass:\"aLink\"},[_vm._v(\"工作区存档(\"+_vm._s(_vm.workspaceList.length)+\")\")])]),_c('router-link',{staticClass:\"link\",attrs:{\"tag\":\"li\",\"to\":\"/login\"}},[_c('a',{staticClass:\"aLink\"},[_vm._v(\"登录\"+_vm._s(_vm.currentState))])])],1)])]):_c('div',{staticClass:\"container\"},[_vm._v(\" Loading... \")])])]),(_vm.fsLoaded)?_c('router-view'):_vm._e()],1),_c('transition-group',{attrs:{\"name\":\"worker-list\"}},_vm._l((_vm.running),function(ref,i){\nvar key = ref[0];\nvar run = ref[1];\nreturn _c('span',{key:(\"worker_\" + key),staticClass:\"tag is-rounded running\",style:({ bottom: i * 30 + 'px' })},[_vm._v(_vm._s(run))])}),0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hero-body\"},[_c('div',{staticClass:\"container\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\" submit.vtbs.moe \")]),_c('h2',{staticClass:\"subtitle\"},[_vm._v(\" 你好呀 \")])])])}]\n\nexport { render, staticRenderFns }","const IS_LOCAL = location.hostname === 'localhost'\n\nconst CLIENT_ID = IS_LOCAL ? '23b965c70f0005df2d72' : '0dcef2f6e6221b70214f'\nconst CLIENT_SECRET = IS_LOCAL ? '505afa12c4fda8164fb56e9f2b607f3e62f62de0' : 'e1d64c4471a750145616d38b22b063a380cd9a3a'\n\nexport const getGithubLoginUrl = () => {\n  const url = new URL('https://github.com/login/oauth/authorize')\n  url.searchParams.set('client_id', CLIENT_ID)\n  if (IS_LOCAL) {\n    url.searchParams.set('redirect_uri', 'http://localhost:8080/login')\n  }\n  url.searchParams.set('scope', 'public_repo')\n  return url.toString()\n}\n\nexport const getToken = async code => {\n  const response = await fetch('https://cors-anywhere.herokuapp.com/https://github.com/login/oauth/access_token', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Accept: 'application/json'\n    },\n    body: JSON.stringify({ code, client_secret: CLIENT_SECRET, client_id: CLIENT_ID })\n  })\n  const { access_token: token } = await response.json()\n  return token\n}\n\nexport const getUser = async token => {\n  const response = await fetch('https://api.github.com/user', { headers: { Authorization: `token ${token}` } })\n  const { login, name, email, avatar_url: avatar, html_url: url } = await response.json()\n  return { login, name, email, avatar, url }\n}\n\nexport const saveToken = token => {\n  if (token) {\n    localStorage.submitToken = token\n  } else {\n    localStorage.removeItem('submitToken')\n  }\n}\n\nexport const readToken = () => localStorage.submitToken\n","<template>\n<div id=\"app\">\n  <div>\n    <section class=\"hero is-success is-fullheight is-bold\">\n      <div class=\"hero-body\">\n        <div class=\"container\">\n          <h1 class=\"title\">\n            submit.vtbs.moe\n          </h1>\n          <h2 class=\"subtitle\">\n            你好呀\n          </h2>\n        </div>\n      </div>\n      <div class=\"hero-foot\">\n        <nav class=\"tabs\" v-if=\"fsLoaded\">\n          <div class=\"container\">\n            <ul>\n              <router-link tag=\"li\" to=\"/\" class=\"link\"><a class=\"aLink\">Panel</a></router-link>\n              <router-link tag=\"li\" to=\"/edit\" class=\"link\"><a class=\"aLink\">新建</a></router-link>\n              <router-link tag=\"li\" to=\"/submit\" class=\"link\"><a class=\"aLink\">提交!({{diff.length}})</a></router-link>\n              <router-link tag=\"li\" to=\"/workspace\" class=\"link\"><a class=\"aLink\">工作区存档({{workspaceList.length}})</a></router-link>\n              <router-link tag=\"li\" to=\"/login\" class=\"link\"><a class=\"aLink\">登录{{currentState}}</a></router-link>\n            </ul>\n          </div>\n        </nav>\n        <div v-else class=\"container\">\n          Loading...\n        </div>\n      </div>\n    </section>\n    <router-view v-if=\"fsLoaded\"></router-view>\n  </div>\n  <transition-group name=\"worker-list\">\n    <span class=\"tag is-rounded running\" v-for=\"([key, run], i) in running\" :key=\"`worker_${key}`\" :style=\"{ bottom: i * 30 + 'px' }\">{{run}}</span>\n  </transition-group>\n</div>\n</template>\n\n<script>\nimport { mapState, mapActions, createNamespacedHelpers } from 'vuex'\n\nimport { eventEmitter } from '@/worker/warp'\n\nimport { readToken } from '@/components/login/w'\n\nconst { mapGetters: mapLoginGetters, mapActions: mapLoginActions } = createNamespacedHelpers('login')\n\nexport default {\n  data() {\n    return { running: [] }\n  },\n  mounted() {\n    this.loadWorkspaceList()\n    eventEmitter.on('running', list => {\n      this.running = list\n    })\n    if (!this.fsLoaded) {\n      this.loadFs()\n    }\n    const token = readToken()\n    if (token) {\n      this.updateToken(token)\n    }\n  },\n  computed: {\n    ...mapState(['fsLoaded', 'workspaceList', 'diff']),\n    ...mapLoginGetters(['currentState'])\n  },\n  methods: {\n    ...mapActions(['loadFs', 'loadWorkspaceList']),\n    ...mapLoginActions(['updateToken'])\n  }\n}\n</script>\n\n<style scoped>\n.running {\n  position: fixed;\n  right: 10px;\n  transition: all 0.3s;\n}\n\n.worker-list-enter {\n  opacity: 0;\n  transform: translateY(-100px);\n}\n\n.worker-list-leave-to {\n  opacity: 0;\n  transform: translateY(40px);\n}\n\n.link {\n  border-color: rgba(0, 0, 0, 0);\n  border-radius: 5px;\n  border-style: solid;\n  border-width: 1px;\n  margin-bottom: 4px;\n}\n\n.router-link-exact-active {\n  border-color: rgba(0, 0, 0, 0.2);\n}\n\n.aLink {\n  padding: 8px 16px 8px 16px;\n  border: 0;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=5a852a3c&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=5a852a3c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a852a3c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('list')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"container\",staticClass:\"index\"},[_c('div',{staticClass:\"control search\",class:{ 'is-loading' : _vm.searching}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchInput),expression:\"searchInput\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"搜索\"},domProps:{\"value\":(_vm.searchInput)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.searchInput=$event.target.value}}})]),_c('div',{staticClass:\"indexContainer\",style:({ height: _vm.totalHeight + 'px' })},[_vm._l((_vm.renderedList),function(ref,n){\nvar i = ref.i; if ( i === void 0 ) i = 0;\nvar file = ref.file;\nreturn _c('vtb',{key:(\"vtb_\" + n),attrs:{\"i\":i,\"file\":file,\"n\":n}})}),_vm._l((_vm.detectors),function(ref$1){\nvar height = ref$1.height;\nvar top = ref$1.top;\nvar i = ref$1.i;\nvar ref = ref$1.ref;\nreturn _c('div',{key:ref,ref:'detectors',refInFor:true,staticClass:\"detectors\",style:({ height:(height + \"px\"), top:(top + \"px\") }),attrs:{\"i\":i}})})],2),(!_vm.displayFileList.length)?[_c('br'),_c('hr'),_c('p',[_vm._v(\"无结果...\")])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { apply } from './warp'\n// eslint-disable-next-line import/no-webpack-loader-syntax\nimport Worker from 'worker-loader!./worker'\nimport * as fList from './worker'\n\napply(new Worker())\n\nObject.entries(fList).map(([name, f]) => f.registerName(name))\n\nexport * from './worker'\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vtb\",style:({ top: _vm.i * _vm.height + 'px' }),attrs:{\"n\":_vm.n}},[_c('br'),_c('hr'),_c('div',{staticClass:\"columns is-mobile\"},[_c('div',{staticClass:\"column name\"},[_c('h1',{staticClass:\"title is-4 name\"},[_vm._v(_vm._s(_vm.name))]),_c('h2',{staticClass:\"subtitle is-4 name\"},[_vm._v(_vm._s(_vm.file))])]),_c('div',{staticClass:\"is-divider-vertical\"}),_c('div',{staticClass:\"column\"},[_c('span',{staticClass:\"tag is-light is-medium\",class:{ 'is-link': _vm.type === 'group', 'is-primary': _vm.type === 'vtuber' }},[_vm._v(_vm._s(_vm.type))])]),_c('div',{staticClass:\"is-divider-vertical\"}),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"buttons\"},[_c('router-link',{staticClass:\"button is-info is-small\",attrs:{\"tag\":\"button\",\"to\":(\"edit/\" + _vm.file)}},[_vm._v(\"编辑\")]),_c('button',{staticClass:\"button is-danger is-small\",on:{\"click\":_vm.remove}},[_vm._v(\"删除\")])],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"vtb\" :style=\"{ top: i * height + 'px' }\" :n=\"n\">\n  <br>\n  <hr>\n  <div class=\"columns is-mobile\">\n    <div class=\"column name\">\n      <h1 class=\"title is-4 name\">{{name}}</h1>\n      <h2 class=\"subtitle is-4 name\">{{file}}</h2>\n    </div>\n    <div class=\"is-divider-vertical\"></div>\n    <div class=\"column\">\n      <span class=\"tag is-light is-medium\" :class=\"{ 'is-link': type === 'group', 'is-primary': type === 'vtuber' }\">{{type}}</span>\n    </div>\n    <div class=\"is-divider-vertical\"></div>\n    <div class=\"column\">\n      <div class=\"buttons\">\n        <router-link tag=\"button\" class=\"button is-info is-small\" :to=\"`edit/${file}`\">编辑</router-link>\n        <button class=\"button is-danger is-small\" @click=\"remove\">删除</button>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport EventEmitter from 'events'\nimport { mapActions } from 'vuex'\n\nimport { getVtbJson, deleteVtb } from '@/worker'\n\nexport const height = 110\n\nexport const eventEmitter = new EventEmitter()\n\nconst onceCache = new Map()\n\nconst once = n => {\n  if (!onceCache.has(n)) {\n    const wait = new Promise(resolve => eventEmitter.once(n, resolve))\n    onceCache.set(n, wait)\n    wait.then(() => {\n      onceCache.delete(n)\n    })\n  }\n  return onceCache.get(n)\n}\n\nexport default {\n  props: ['i', 'file', 'n'],\n  data() {\n    return {\n      height,\n      json: {},\n      currentFile: undefined\n    }\n  },\n  computed: {\n    name() {\n      return [...Object.values(this.json.name || {}), 'loading...'].flat()[0]\n    },\n    type() {\n      return this.json.type || 'vtuber'\n    }\n  },\n  methods: {\n    ...mapActions(['loadFileList']),\n    async remove() {\n      await deleteVtb(this.file)\n      await this.loadFileList()\n    }\n  },\n  watch: {\n    file: {\n      immediate: true,\n      async handler(newFile, oldFile) {\n        if (newFile !== this.currentFile) {\n          this.json = {}\n        }\n        await once(String(this.n))\n        if (newFile === this.file) {\n          if (newFile && newFile !== oldFile) {\n            const json = await getVtbJson(newFile)\n            if (newFile === this.file) {\n              this.json = json\n              this.currentFile = newFile\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.vtb {\n  position: absolute;\n  width: 100%;\n  height: 26px;\n}\n\n.name {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vtb.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vtb.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./vtb.vue?vue&type=template&id=1e94bd88&scoped=true&\"\nimport script from \"./vtb.vue?vue&type=script&lang=js&\"\nexport * from \"./vtb.vue?vue&type=script&lang=js&\"\nimport style0 from \"./vtb.vue?vue&type=style&index=0&id=1e94bd88&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e94bd88\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div class=\"index\" ref=\"container\">\n  <div class=\"control search\" :class=\"{ 'is-loading' : searching}\">\n    <input class=\"input\" type=\"text\" placeholder=\"搜索\" v-model=\"searchInput\">\n  </div>\n  <div class=\"indexContainer\" :style=\"{ height: totalHeight + 'px' }\">\n    <vtb v-for=\"({i=0,file},n) in renderedList\" :key=\"`vtb_${n}`\" :i=\"i\" :file=\"file\" :n=\"n\"></vtb>\n    <div class=\"detectors\" v-for=\"({height,top,i,ref}) in detectors\" :key=\"ref\" :i=\"i\" :ref=\"'detectors'\" :style=\"{ height:`${height}px`, top:`${top}px` }\"></div>\n  </div>\n  <template v-if=\"!displayFileList.length\">\n    <br>\n    <hr>\n    <p>无结果...</p>\n  </template>\n</div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\nimport { searchList } from '@/worker'\n\nimport vtb, { height, eventEmitter } from './list/vtb'\n\nconst RENDER_LENGTH = 150\n\nlet lastIntersectN = 0\n\nexport default {\n  data() {\n    return {\n      height,\n      renderTop: 0,\n      lastIntersect: 0,\n      renderedList: Array(RENDER_LENGTH).fill({}),\n      observer: undefined,\n      intersectionObserver: undefined,\n      searchInput: '',\n      searchResult: undefined,\n      searching: false\n    }\n  },\n  created() {\n    this.observer = new IntersectionObserver(entries => entries.forEach(({ isIntersecting, target }) => {\n      if (isIntersecting) {\n        const n = target.getAttribute('n')\n        eventEmitter.emit(n)\n        lastIntersectN = Number(n)\n      }\n    }), { root: this.$refs.container, thresholds: [0], rootMargin: '80px 0px 20px 0px' })\n    this.intersectionObserver = new IntersectionObserver(entries => entries.forEach(({ isIntersecting, target }) => {\n      if (isIntersecting) {\n        const i = Number(target.getAttribute('i'))\n        this.lastIntersect = i\n      }\n    }), { root: this.$refs.container, thresholds: [0] })\n  },\n  async mounted() {\n    await this.loadFileList()\n    await this.$nextTick()\n    const vtbs = document.getElementsByClassName('vtb')\n    Array(vtbs.length).fill().map((_, i) => vtbs[i]).forEach(vtb => this.observer.observe(vtb))\n  },\n  methods: {\n    render(start, length) {\n      Array(length).fill()\n        .map((_, i) => i + start)\n        .forEach(i => {\n          const domIndex = i % RENDER_LENGTH\n          const file = this.displayFileList[i]\n          if (file) {\n            this.renderedList[domIndex] = { i, file }\n          } else {\n            this.renderedList[domIndex] = { i: -10 }\n          }\n        })\n      this.renderedList = [...this.renderedList]\n    },\n    async search(string) {\n      const keys = string.toLowerCase().split(' ').filter(Boolean)\n      if (keys.length) {\n        this.searching = true\n        const result = await searchList(keys)\n        if (string === this.searchInput) {\n          this.searchResult = result\n          this.searching = false\n        }\n      } else {\n        this.searching = false\n        this.searchResult = undefined\n      }\n    },\n    ...mapActions(['loadFileList'])\n  },\n  watch: {\n    async detectors(detectors, oldDetectors = []) {\n      await this.$nextTick()\n      if (this.$refs.detectors) {\n        this.$refs.detectors.forEach(detector => this.intersectionObserver.observe(detector))\n      }\n    },\n    async searchInput(string) {\n      this.search(string)\n    },\n    fileList() {\n      if (this.searchInput) {\n        this.search(this.searchInput)\n      }\n    },\n    async displayFileList() {\n      this.render(this.renderTop, RENDER_LENGTH)\n      await this.$nextTick()\n      Array(15)\n        .fill(Math.max(0, lastIntersectN + RENDER_LENGTH - 9))\n        .map((base, i) => (i + base) % RENDER_LENGTH)\n        .map(String)\n        .forEach(n => eventEmitter.emit(n))\n    },\n    renderTop(newVal, oldVal) {\n      if (newVal > oldVal) {\n        const start = Math.max(newVal, oldVal + RENDER_LENGTH)\n        const end = Math.min(newVal + RENDER_LENGTH, this.displayFileList.length)\n        if (start < end) {\n          const length = end - start\n          this.render(start, length)\n        }\n      } else if (oldVal > newVal) {\n        const end = Math.min(oldVal, newVal + RENDER_LENGTH)\n        const length = end - newVal\n        this.render(newVal, length)\n      }\n    },\n    lastIntersect() {\n      const { lastIntersect } = this\n      this.renderTop = Math.max(0, lastIntersect - RENDER_LENGTH / 3)\n    }\n  },\n  beforeDestroy() {\n    this.observer.disconnect()\n    this.intersectionObserver.disconnect()\n  },\n  components: {\n    vtb\n  },\n  computed: {\n    ...mapState(['fileList']),\n    displayFileList() {\n      return this.searchResult || this.fileList\n    },\n    totalHeight() {\n      return this.displayFileList.length * this.height\n    },\n    detectors() {\n      const num = Math.round(this.displayFileList.length / RENDER_LENGTH * 3) + 1\n      const height = this.totalHeight / num\n      return Array(num).fill().map((_, i) => ({ ref: `detector_${i}`, height, top: i * height, i: Math.round(this.displayFileList.length / num * i) }))\n    }\n  }\n}\n</script>\n\n<style scoped>\n.index {\n  height: calc(100vh - 50px);\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n.indexContainer {\n  position: relative;\n  top: -25px;\n}\n\n.search {\n  position: relative;\n  z-index: 100;\n  top: 8px;\n}\n\n.detectors {\n  position: absolute;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=28dbbbd7&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=28dbbbd7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"28dbbbd7\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div class=\"container\">\n  <list></list>\n</div>\n</template>\n\n<script>\nimport list from '@/components/list'\n\nexport default {\n  components: { list }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=56683f06&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('br'),_c('diff'),_c('hr'),_c('test'),_c('hr'),_c('serialize'),_c('hr'),_c('issue'),_c('br')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',{staticClass:\"title\"},[_vm._v(\"改变\")]),_c('h2',{staticClass:\"subtitle\"},[_vm._v(\"Difference (\"+_vm._s(_vm.diff.length)+\")\")]),_vm._l((_vm.diff),function(ref){\nvar file = ref[0];\nvar status = ref[1];\nreturn _c('change',{key:(\"diff_\" + file),attrs:{\"file\":file,\"status\":status}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{class:{ 'has-text-danger': _vm.status === 'remove', 'has-text-success': _vm.status === 'add', 'has-text-warning': _vm.status === 'update'}},[_vm._v(_vm._s(_vm.file)+\" \"),_c('button',{staticClass:\"button is-small is-text\",on:{\"click\":_vm.reset}},[_vm._v(\"撤销\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n  <p :class=\"{ 'has-text-danger': status === 'remove', 'has-text-success': status === 'add', 'has-text-warning': status === 'update'}\">{{file}} <button class=\"button is-small is-text\" @click=\"reset\">撤销</button></p>\n</div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\n\nimport { resetVtb } from '@/worker'\n\nexport default {\n  props: ['status', 'file'],\n  methods: {\n    ...mapActions(['loadFileList']),\n    async reset() {\n      await resetVtb(this.file)\n      await this.loadFileList()\n    }\n  }\n}\n</script>\n\n<style scoped>\n.red {\n  color: red;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./change.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./change.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./change.vue?vue&type=template&id=005d5cfb&scoped=true&\"\nimport script from \"./change.vue?vue&type=script&lang=js&\"\nexport * from \"./change.vue?vue&type=script&lang=js&\"\nimport style0 from \"./change.vue?vue&type=style&index=0&id=005d5cfb&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"005d5cfb\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div>\n  <h1 class=\"title\">改变</h1>\n  <h2 class=\"subtitle\">Difference ({{diff.length}})</h2>\n  <change v-for=\"[file, status] in diff\" :key=\"`diff_${file}`\" :file=\"file\" :status=\"status\"></change>\n</div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\n\nimport change from './diff/change'\n\nexport default {\n  computed: mapState(['diff']),\n  components: { change }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./diff.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./diff.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./diff.vue?vue&type=template&id=46f39771&\"\nimport script from \"./diff.vue?vue&type=script&lang=js&\"\nexport * from \"./diff.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',{staticClass:\"title\"},[_vm._v(\"序列化\")]),_c('h2',{staticClass:\"subtitle\"},[_vm._v(\"Serialize\")]),_c('div',{staticClass:\"table-container\"},[_c('table',{staticClass:\"table is-striped is-hoverable is-fullwidth\"},[_vm._m(0),_c('tbody',_vm._l((_vm.code),function(ref){\nvar cmd = ref[0];\nvar file = ref[1];\nvar content = ref[2]; if ( content === void 0 ) content = '';\nreturn _c('tr',{key:(\"s_\" + file)},[_c('td',[_vm._v(_vm._s(cmd))]),_c('td',[_vm._v(_vm._s(file))]),_c('td',[(!!content)?_c('code',[_vm._v(_vm._s(content))]):_vm._e()])])}),0)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"Command\")]),_c('th',[_vm._v(\"File\")]),_c('th',[_vm._v(\"content\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n<div>\n  <h1 class=\"title\">序列化</h1>\n  <h2 class=\"subtitle\">Serialize</h2>\n  <div class=\"table-container\">\n    <table class=\"table is-striped is-hoverable is-fullwidth\">\n      <thead>\n        <tr>\n          <th>Command</th>\n          <th>File</th>\n          <th>content</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"[cmd, file, content = ''] in code\" :key=\"`s_${file}`\">\n          <td>{{cmd}}</td>\n          <td>{{file}}</td>\n          <td><code v-if=\"!!content\">{{content}}</code></td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n</template>\n\n<script>\nimport { mapState, createNamespacedHelpers } from 'vuex'\n\nimport { serializeDiff } from '@/worker'\n\nconst { mapGetters } = createNamespacedHelpers('login')\n\nexport default {\n  data() {\n    return {\n      code: [\n        ['loading...']\n      ]\n    }\n  },\n  watch: {\n    async command() {\n      this.code = await serializeDiff(this.command)\n    },\n    diff: {\n      immediate: true,\n      async handler() {\n        this.code = await serializeDiff(this.command)\n      }\n    }\n  },\n  computed: {\n    ...mapState(['diff']),\n    ...mapGetters(['command'])\n  }\n}\n</script>\n\n<style scoped>\ncode {\n  display: block;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./serialize.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./serialize.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./serialize.vue?vue&type=template&id=ad7d5b94&scoped=true&\"\nimport script from \"./serialize.vue?vue&type=script&lang=js&\"\nexport * from \"./serialize.vue?vue&type=script&lang=js&\"\nimport style0 from \"./serialize.vue?vue&type=style&index=0&id=ad7d5b94&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ad7d5b94\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',{staticClass:\"title\"},[_vm._v(\"发布\")]),_c('h2',{staticClass:\"subtitle\"},[_vm._v(\"Issue\")]),(_vm.diffLength && _vm.diffLength > 0)?[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.input),expression:\"input\"}],staticClass:\"textarea\",attrs:{\"placeholder\":\"附加信息\"},domProps:{\"value\":(_vm.input)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.input=$event.target.value}}}),_c('br'),_c('code',[_vm._v(_vm._s(_vm.issue))]),_c('br'),_c('label',{staticClass:\"checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.githubCommit),expression:\"githubCommit\"}],attrs:{\"type\":\"checkbox\",\"disabled\":!_vm.username},domProps:{\"checked\":Array.isArray(_vm.githubCommit)?_vm._i(_vm.githubCommit,null)>-1:(_vm.githubCommit)},on:{\"change\":function($event){var $$a=_vm.githubCommit,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.githubCommit=$$a.concat([$$v]))}else{$$i>-1&&(_vm.githubCommit=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.githubCommit=$$c}}}}),_vm._v(\" 以我的GitHub身份Commit \"),(!_vm.username)?[_vm._v(\"(请登陆)\")]:_vm._e()],2),_c('hr'),(!_vm.url)?_c('button',{staticClass:\"button is-link is-light\",class:{ 'is-loading': _vm.urlLoading },on:{\"click\":_vm.submit}},[_vm._v(\"发布\")]):_vm._e(),(_vm.url)?_c('a',{attrs:{\"href\":_vm.url,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.url))]):_vm._e()]:_vm._e(),(_vm.diffLength === undefined)?_c('span',[_vm._v(\" loading... \")]):_vm._e(),(_vm.diffLength === 0)?_c('span',[_vm._v(\" 无修改 \")]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n  <h1 class=\"title\">发布</h1>\n  <h2 class=\"subtitle\">Issue</h2>\n  <template v-if=\"diffLength && diffLength > 0\">\n    <textarea class=\"textarea\" placeholder=\"附加信息\" v-model=\"input\"></textarea>\n    <br>\n    <code>{{issue}}</code>\n    <br>\n    <label class=\"checkbox\">\n      <input type=\"checkbox\" v-model=\"githubCommit\" :disabled=\"!username\">\n      以我的GitHub身份Commit <template v-if=\"!username\">(请登陆)</template>\n    </label>\n    <hr>\n    <button class=\"button is-link is-light\" :class=\"{ 'is-loading': urlLoading }\" @click=\"submit\" v-if=\"!url\">发布</button>\n    <a :href=\"url\" target=\"_blank\" v-if=\"url\">{{url}}</a>\n  </template>\n  <span v-if=\"diffLength === undefined\">\n    loading...\n  </span>\n  <span v-if=\"diffLength === 0\">\n    无修改\n  </span>\n</div>\n</template>\n\n<script>\nimport { mapState, createNamespacedHelpers } from 'vuex'\n\nimport { diff, makeIssue, submitDiff } from '@/worker'\n\nconst { mapState: mapLoginState, mapMutations: mapLoginMutations, mapGetters } = createNamespacedHelpers('login')\n\nexport default {\n  data() {\n    return {\n      diffLength: undefined,\n      input: '',\n      issue: '',\n      url: undefined,\n      urlLoading: false\n    }\n  },\n  async mounted() {\n    this.diffLength = (await diff()).length\n  },\n  computed: {\n    ...mapState(['diff']),\n    ...mapLoginState(['commit', 'username', 'token']),\n    ...mapGetters(['command']),\n    githubCommit: {\n      get() {\n        return this.username && this.commit\n      },\n      set(value) {\n        this.setCommit(value)\n      }\n    }\n  },\n  watch: {\n    async diff() {\n      this.diffLength = (await diff()).length\n      await this.updateIssue()\n    },\n    command() {\n      this.updateIssue()\n    },\n    input: {\n      immediate: true,\n      handler() {\n        this.updateIssue()\n      }\n    }\n  },\n  methods: {\n    ...mapLoginMutations(['setCommit']),\n    async submit() {\n      this.urlLoading = true\n      const params = [this.input, this.command]\n      if (this.username) {\n        params.push(this.token)\n      }\n      this.url = await submitDiff(...params)\n    },\n    async updateIssue() {\n      const input = this.input\n      const issue = await makeIssue(input, this.command)\n      if (this.input === input) {\n        this.issue = issue\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\ncode {\n  display: block;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./issue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./issue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./issue.vue?vue&type=template&id=2e350816&scoped=true&\"\nimport script from \"./issue.vue?vue&type=script&lang=js&\"\nexport * from \"./issue.vue?vue&type=script&lang=js&\"\nimport style0 from \"./issue.vue?vue&type=style&index=0&id=2e350816&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e350816\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',{staticClass:\"title\"},[_vm._v(\"测试\")]),(_vm.loading)?_c('h2',{staticClass:\"subtitle\"},[_vm._v(\"少女祈祷中...\")]):[_c('h2',{staticClass:\"subtitle\"},[_vm._v(\"Error: \"+_vm._s(_vm.errors.length))]),_vm._l((_vm.errors),function(error,n){return _c('p',{key:(\"error_\" + n),staticClass:\"has-text-danger\"},[_vm._v(_vm._s(error))])})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n  <h1 class=\"title\">测试</h1>\n  <h2 class=\"subtitle\" v-if=\"loading\">少女祈祷中...</h2>\n  <template v-else>\n    <h2 class=\"subtitle\">Error: {{errors.length}}</h2>\n    <p class=\"has-text-danger\" v-for=\"(error, n) in errors\" :key=\"`error_${n}`\">{{error}}</p>\n  </template>\n</div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\n\nimport { test } from '@/worker'\n\nexport default {\n  data() {\n    return {\n      errors: [],\n      loading: true\n    }\n  },\n  watch: {\n    async diff() {\n      this.loading = true\n      this.errors = await test()\n      this.loading = false\n    }\n  },\n  async mounted() {\n    this.errors = await test()\n    this.loading = false\n  },\n  computed: mapState(['diff'])\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./test.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./test.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./test.vue?vue&type=template&id=7a6a8d36&\"\nimport script from \"./test.vue?vue&type=script&lang=js&\"\nexport * from \"./test.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<div class=\"container\">\n  <br>\n  <diff></diff>\n  <hr>\n  <test></test>\n  <hr>\n  <serialize></serialize>\n  <hr>\n  <issue></issue>\n  <br>\n</div>\n</template>\n\n<script>\nimport diff from '@/components/diff'\nimport serialize from '@/components/diff/serialize'\nimport issue from '@/components/diff/issue'\nimport test from '@/components/diff/test'\n\nexport default {\n  components: { diff, serialize, issue, test }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Submit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Submit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Submit.vue?vue&type=template&id=2b52651e&\"\nimport script from \"./Submit.vue?vue&type=script&lang=js&\"\nexport * from \"./Submit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('br'),_c('div',{staticClass:\"field is-horizontal\"},[_vm._m(0),_c('div',{staticClass:\"field-body\"},[_c('div',{staticClass:\"field has-addons\"},[_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editing.fileName),expression:\"editing.fileName\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"文件名\"},domProps:{\"value\":(_vm.editing.fileName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editing, \"fileName\", $event.target.value)}}})]),_vm._m(1)])])]),_c('hr'),_vm._l((_vm.editing.names),function(name,n){return _c('div',{key:(\"name_\" + n),staticClass:\"field is-horizontal\"},[_c('div',{staticClass:\"field-label is-normal\"},[(!n)?_c('label',{staticClass:\"label\"},[_vm._v(\"名字\")]):_vm._e(),(!n)?_c('p',{staticClass:\"help\"},[_vm._v(\"语言可以是 cn, en, jp 之类的\")]):_vm._e()]),_c('div',{staticClass:\"field-body\"},[_c('div',{staticClass:\"field has-addons\"},[_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editing.names[n][0]),expression:\"editing.names[n][0]\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"语言\"},domProps:{\"value\":(_vm.editing.names[n][0])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editing.names[n], 0, $event.target.value)}}})]),_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editing.names[n][1]),expression:\"editing.names[n][1]\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"名字\"},domProps:{\"value\":(_vm.editing.names[n][1])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editing.names[n], 1, $event.target.value)}}})]),_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-danger\",on:{\"click\":function($event){return _vm.deleteName(n)}}},[_vm._v(\"删除\")])])])])])}),_c('div',{staticClass:\"field is-horizontal\"},[_c('div',{staticClass:\"field-label\"}),_c('div',{staticClass:\"field-body\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":_vm.addName}},[_vm._v(\"添加名字\")])])]),_c('hr'),_c('div',{staticClass:\"field is-horizontal\"},[_c('div',{staticClass:\"field-label is-normal\"},[_c('label',{staticClass:\"label\"},[_vm._v(\"记录类型\")]),(_vm.editing.type === 'group')?_c('p',{staticClass:\"help\"},[_vm._v(\"请为每个社团成员创建单独的文件，不要把成员的账号放进社团的文件\")]):_vm._e()]),_c('div',{staticClass:\"field-body\"},[_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"select\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editing.type),expression:\"editing.type\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.editing, \"type\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"vtuber\"}},[_vm._v(\"虚拟主播\")]),_c('option',{attrs:{\"value\":\"group\"}},[_vm._v(\"社团\")])])])])])]),_c('div',{staticClass:\"field is-horizontal\"},[_vm._m(2),_c('div',{staticClass:\"field-body\"},[_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editing.bot),expression:\"editing.bot\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.editing.bot)?_vm._i(_vm.editing.bot,null)>-1:(_vm.editing.bot)},on:{\"change\":function($event){var $$a=_vm.editing.bot,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.editing, \"bot\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.editing, \"bot\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.editing, \"bot\", $$c)}}}}),_vm._v(\" 机器人 \")])])])]),_c('hr'),_vm._l((_vm.editing.accounts),function(ref,n){\nvar id = ref.id;\nvar platform = ref.platform;\nvar type = ref.type;\nreturn _c('div',{key:(\"account_\" + n),staticClass:\"field is-horizontal\"},[_c('div',{staticClass:\"field-label is-normal\"},[(!n)?_c('label',{staticClass:\"label\"},[_vm._v(\"账号\")]):_vm._e(),(!id || !_vm.urls[n].startsWith('http'))?_c('p',{staticClass:\"help url\"},[_vm._v(_vm._s(_vm.urls[n]))]):_c('a',{staticClass:\"help url\",attrs:{\"href\":_vm.urls[n],\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.urls[n]))])]),_c('div',{staticClass:\"field-body\"},[_c('div',{staticClass:\"field has-addons\"},[_c('div',{staticClass:\"control\"},[_c('div',{staticClass:\"select\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editing.accounts[n].platform),expression:\"editing.accounts[n].platform\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.editing.accounts[n], \"platform\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_vm._l((_vm.platforms),function(ref){\nvar platformName = ref[0];\nreturn _c('option',{key:(\"account_\" + n + \"_\" + platformName),domProps:{\"value\":platformName}},[_vm._v(_vm._s(platformName))])}),_c('option',{attrs:{\"value\":\"other\"}},[_vm._v(\"其他\")])],2)])]),_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editing.accounts[n].id),expression:\"editing.accounts[n].id\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"{id}\"},domProps:{\"value\":(_vm.editing.accounts[n].id)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editing.accounts[n], \"id\", $event.target.value)}}})]),_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-danger\",on:{\"click\":function($event){return _vm.deleteAccount(n)}}},[_vm._v(\"删除\")])])])])])}),_c('div',{staticClass:\"field is-horizontal\"},[_c('div',{staticClass:\"field-label\"}),_c('div',{staticClass:\"field-body\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":_vm.addAccount}},[_vm._v(\"添加账号\")])])]),_c('hr'),_c('div',{staticClass:\"field is-horizontal\"},[_vm._m(3),_c('div',{staticClass:\"field-body\"},[_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editing.group),expression:\"editing.group\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"社团\"},domProps:{\"value\":(_vm.editing.group)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editing, \"group\", $event.target.value)}}})]),_vm._l((_vm.groupAuto),function(group){return _c('button',{key:(\"groupAuto_\" + group),staticClass:\"button is-text\",on:{\"click\":function($event){_vm.editing.group = group}}},[_vm._v(_vm._s(group))])})],2)])]),_c('hr'),_c('div',{staticClass:\"field is-horizontal\"},[_c('div',{staticClass:\"field-label is-normal\"},[(_vm.saved)?_c('p',{staticClass:\"help\"},[_vm._v(\"保存成功!\")]):_vm._e()]),_c('div',{staticClass:\"field-body\"},[_c('div',{staticClass:\"field is-grouped\"},[_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-link\",class:{ 'is-loading': _vm.saving },attrs:{\"disabled\":!_vm.editing.fileName || _vm.saving},on:{\"click\":_vm.save}},[_vm._v(\"保存 \"+_vm._s(_vm.fileName))])]),_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-link is-light\",on:{\"click\":_vm.reset}},[_vm._v(\"复原\")])]),_c('div',{staticClass:\"control\"},[_c('router-link',{staticClass:\"button is-light\",attrs:{\"tag\":\"button\",\"to\":\"/\"}},[_vm._v(\"返回\")])],1)])])]),_c('hr'),_c('code',[_vm._v(_vm._s(_vm.code))]),_c('br')],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field-label is-normal\"},[_c('label',{staticClass:\"label\"},[_vm._v(\"文件名\")]),_c('p',{staticClass:\"help\"},[_vm._v(\"一般用名字\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"control\"},[_c('a',{staticClass:\"button is-static\"},[_vm._v(\".json\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field-label is-normal\"},[_c('label',{staticClass:\"label\"},[_vm._v(\"是不是机器人\")]),_c('p',{staticClass:\"help\"},[_vm._v(\"就是24*7那样的\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field-label is-normal\"},[_c('label',{staticClass:\"label\"},[_vm._v(\"所属社团\")]),_c('p',{staticClass:\"help\"},[_vm._v(\"这里写所属社团记录的文件名\"),_c('br'),_vm._v(\"(不需要文件后缀)\")]),_c('p',{staticClass:\"help\"},[_vm._v(\"无所属留空\")])])}]\n\nexport { render, staticRenderFns }","<template>\n<div class=\"container\">\n  <br>\n\n  <div class=\"field is-horizontal\">\n    <div class=\"field-label is-normal\">\n      <label class=\"label\">文件名</label>\n      <p class=\"help\">一般用名字</p>\n    </div>\n    <div class=\"field-body\">\n      <div class=\"field has-addons\">\n        <div class=\"control\"><input class=\"input\" type=\"text\" placeholder=\"文件名\" v-model=\"editing.fileName\"></div>\n        <div class=\"control\"><a class=\"button is-static\">.json</a></div>\n      </div>\n    </div>\n  </div>\n\n  <hr>\n\n  <div class=\"field is-horizontal\" v-for=\"(name, n) in editing.names\" :key=\"`name_${n}`\">\n    <div class=\"field-label is-normal\">\n      <label class=\"label\" v-if=\"!n\">名字</label>\n      <p class=\"help\" v-if=\"!n\">语言可以是 cn, en, jp 之类的</p>\n    </div>\n    <div class=\"field-body\">\n      <div class=\"field has-addons\">\n        <div class=\"control\"><input class=\"input\" type=\"text\" placeholder=\"语言\" v-model=\"editing.names[n][0]\"></div>\n        <div class=\"control\"><input class=\"input\" type=\"text\" placeholder=\"名字\" v-model=\"editing.names[n][1]\"></div>\n        <div class=\"control\"><button class=\"button is-danger\" @click=\"deleteName(n)\">删除</button></div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"field is-horizontal\">\n    <div class=\"field-label\">\n    </div>\n    <div class=\"field-body\">\n      <button class=\"button is-link\" @click=\"addName\">添加名字</button>\n    </div>\n  </div>\n\n  <hr>\n\n  <div class=\"field is-horizontal\">\n    <div class=\"field-label is-normal\">\n      <label class=\"label\">记录类型</label>\n      <p class=\"help\" v-if=\"editing.type === 'group'\">请为每个社团成员创建单独的文件，不要把成员的账号放进社团的文件</p>\n    </div>\n    <div class=\"field-body\">\n      <div class=\"field\">\n        <div class=\"select\">\n          <select v-model=\"editing.type\">\n            <option value=\"vtuber\">虚拟主播</option>\n            <option value=\"group\">社团</option>\n          </select>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"field is-horizontal\">\n    <div class=\"field-label is-normal\">\n      <label class=\"label\">是不是机器人</label>\n      <p class=\"help\">就是24*7那样的</p>\n    </div>\n    <div class=\"field-body\">\n      <div class=\"field\">\n        <label class=\"checkbox\">\n          <input type=\"checkbox\" v-model=\"editing.bot\">\n          机器人\n        </label>\n      </div>\n    </div>\n  </div>\n\n  <hr>\n\n  <div class=\"field is-horizontal\" v-for=\"({id, platform, type}, n) in editing.accounts\" :key=\"`account_${n}`\">\n    <div class=\"field-label is-normal\">\n      <label class=\"label\" v-if=\"!n\">账号</label>\n      <p v-if=\"!id || !urls[n].startsWith('http')\" class=\"help url\">{{urls[n]}}</p>\n      <a v-else :href=\"urls[n]\" target=\"_blank\" class=\"help url\">{{urls[n]}}</a>\n    </div>\n    <div class=\"field-body\">\n      <div class=\"field has-addons\">\n        <div class=\"control\">\n          <div class=\"select\">\n            <select v-model=\"editing.accounts[n].platform\">\n              <option v-for=\"[platformName] in platforms\" :key=\"`account_${n}_${platformName}`\" :value=\"platformName\">{{platformName}}</option>\n              <option value=\"other\">其他</option>\n            </select>\n          </div>\n        </div>\n        <div class=\"control\"><input class=\"input\" type=\"text\" placeholder=\"{id}\" v-model=\"editing.accounts[n].id\"></div>\n        <div class=\"control\"><button class=\"button is-danger\" @click=\"deleteAccount(n)\">删除</button></div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"field is-horizontal\">\n    <div class=\"field-label\">\n    </div>\n    <div class=\"field-body\">\n      <button class=\"button is-link\" @click=\"addAccount\">添加账号</button>\n    </div>\n  </div>\n\n  <hr>\n\n  <div class=\"field is-horizontal\">\n    <div class=\"field-label is-normal\">\n      <label class=\"label\">所属社团</label>\n      <p class=\"help\">这里写所属社团记录的文件名<br>(不需要文件后缀)</p>\n      <p class=\"help\">无所属留空</p>\n    </div>\n    <div class=\"field-body\">\n      <div class=\"field\">\n        <div class=\"control\"><input class=\"input\" type=\"text\" placeholder=\"社团\" v-model=\"editing.group\"></div>\n        <button class=\"button is-text\" v-for=\"group in groupAuto\" :key=\"`groupAuto_${group}`\" @click=\"editing.group = group\">{{group}}</button>\n      </div>\n    </div>\n  </div>\n\n  <hr>\n\n  <div class=\"field is-horizontal\">\n    <div class=\"field-label is-normal\">\n      <p class=\"help\" v-if=\"saved\">保存成功!</p>\n    </div>\n    <div class=\"field-body\">\n      <div class=\"field is-grouped\">\n        <div class=\"control\">\n          <button class=\"button is-link\" :class=\"{ 'is-loading': saving }\" :disabled=\"!editing.fileName || saving\" @click=\"save\">保存 {{fileName}}</button>\n        </div>\n        <div class=\"control\">\n          <button class=\"button is-link is-light\" @click=\"reset\">复原</button>\n        </div>\n        <div class=\"control\">\n          <router-link class=\"button is-light\" tag=\"button\" to=\"/\">返回</router-link>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <hr>\n\n  <code>{{code}}</code>\n  <br>\n</div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\n\nimport { saveVtb, getVtbJson, deleteVtb, getGroupList } from '@/worker'\n\nexport default {\n  props: ['file'],\n  data() {\n    const editing = {\n      fileName: '',\n      names: [],\n      type: 'vtuber',\n      bot: false,\n      accounts: [],\n      group: ''\n    }\n    this.backup = JSON.stringify(editing)\n    this.blank = JSON.stringify(editing)\n\n    return { editing, saving: false, saved: false, rest: {}, groupList: [] }\n  },\n  watch: {\n    editing: {\n      deep: true,\n      handler() {\n        this.saved = false\n      }\n    },\n    file: {\n      immediate: true,\n      async handler(file, oldFile) {\n        if (file !== oldFile) {\n          if (file) {\n            this.editing.fileName = file.replace('.json', '')\n            const json = await getVtbJson(file)\n            const { accounts = {}, name = {}, type, bot, group, ...rest } = json\n\n            Object.entries(name)\n              .flatMap(([lang, names]) => [names].flat().map(n => [lang, n]))\n              .forEach(([lang, n]) => this.editing.names.push([lang, n]))\n\n            Object.entries(accounts)\n              .flatMap(([platform, ids]) => [ids].flat().map(id => [platform, id]))\n              .map(([platform, id]) => [platform, id.id || id])\n              .forEach(([platform, id]) => this.editing.accounts.push({ platform, id }))\n\n            if (type) {\n              this.editing.type = type\n            }\n\n            if (bot) {\n              this.editing.bot = bot\n            }\n\n            if (group) {\n              this.editing.group = group\n            }\n\n            this.backup = JSON.stringify(this.editing)\n\n            this.rest = rest\n          } else {\n            this.backup = this.blank\n            this.rest = {}\n            this.reset()\n          }\n        }\n        this.groupList = await getGroupList()\n      }\n    }\n  },\n  async mounted() {},\n  methods: {\n    ...mapActions(['loadFileList']),\n    addName() {\n      this.editing.names.push(['', ''])\n    },\n    deleteName(n) {\n      this.editing.names.splice(n, 1)\n    },\n    addAccount() {\n      this.editing.accounts.push({ id: '', platform: 'bilibili' })\n    },\n    deleteAccount(n) {\n      this.editing.accounts.splice(n, 1)\n    },\n    async save() {\n      this.saving = true\n      if (this.file) {\n        await deleteVtb(this.file)\n      }\n      await saveVtb(this.fileName, this.data)\n      this.saving = false\n      this.saved = true\n      await this.loadFileList()\n    },\n    reset() {\n      this.editing = JSON.parse(this.backup)\n    }\n  },\n  computed: {\n    ...mapState(['meta']),\n    groupAuto() {\n      const input = this.editing.group\n      const keys = input.toLowerCase().split(' ').filter(Boolean)\n      const result = this.groupList\n        .filter(group => keys.every(key => group.toLowerCase().includes(key)))\n      if (result.length === 1 && result[0] === input) {\n        return []\n      }\n      return result\n    },\n    platforms() {\n      return Object.entries(this.meta.linkSyntax)\n    },\n    linkSyntax() {\n      return { ...this.meta.linkSyntax, other: '请直接输入完整链接' }\n    },\n    urls() {\n      return this.editing.accounts\n        .map(({ platform, id }) => ({ platform, id: !id ? '{id}' : id }))\n        .map(({ platform, id }) => this.linkSyntax[platform].replace('{id}', id))\n    },\n    fileName() {\n      return `${this.editing.fileName}.json`\n    },\n    code() {\n      return JSON.stringify(this.data, undefined, 2)\n    },\n    data() {\n      const file = {}\n\n      const { accounts, group, names, type, bot } = this.editing\n\n      if (names.length) {\n        file.name = {}\n        names.forEach(([lang, name]) => {\n          if (!file.name[lang]) {\n            file.name[lang] = name\n          } else {\n            file.name[lang] = [file.name[lang], name].flat()\n          }\n        })\n      }\n\n      if (accounts.length) {\n        file.accounts = {}\n        accounts.forEach(({ id, platform }) => {\n          if (!file.accounts[platform]) {\n            file.accounts[platform] = id\n          } else {\n            file.accounts[platform] = [file.accounts[platform], id].flat()\n          }\n        })\n      }\n\n      if (type !== 'vtuber') {\n        file.type = type\n      }\n\n      if (bot) {\n        file.bot = true\n      }\n\n      if (group) {\n        file.group = group\n        if (file.group.endsWith('.json')) {\n          file.group = file.group.replace('.json', '')\n        }\n      }\n\n      return { ...this.rest, ...file }\n    }\n  }\n}\n</script>\n\n<style scoped>\ncode {\n  display: block;\n  white-space: pre-wrap;\n}\n\n.url {\n  word-break: break-all;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edit.vue?vue&type=template&id=110a231c&scoped=true&\"\nimport script from \"./Edit.vue?vue&type=script&lang=js&\"\nexport * from \"./Edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Edit.vue?vue&type=style&index=0&id=110a231c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"110a231c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container high\"},[_c('br'),_c('h1',{staticClass:\"title\"},[_vm._v(\"存档\")]),_c('h2',{staticClass:\"subtitle\"},[_vm._v(\"Workspace (\"+_vm._s(_vm.workspaceCount)+\")\")]),_c('hr'),_c('div',{staticClass:\"field has-addons\"},[_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"名字\"},domProps:{\"value\":(_vm.name)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.save($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}})]),_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-info\",on:{\"click\":_vm.save}},[_vm._v(\"保存\")])])]),_c('hr'),_vm._l((_vm.workspaceList),function(save){return _c('div',{key:(\"save_\" + save),staticClass:\"field is-horizontal\"},[_c('div',{staticClass:\"field-label is-normal\"},[_c('label',{staticClass:\"label\"},[_vm._v(_vm._s(save))])]),_c('div',{staticClass:\"field-body\"},[_c('div',{staticClass:\"field is-grouped\"},[_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-info\",on:{\"click\":function($event){return _vm.load(save)}}},[_vm._v(\"载入\")])]),_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-light is-danger\",on:{\"click\":function($event){return _vm.remove(save)}}},[_vm._v(\" 删除\")])])])])])}),_c('br')],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"container high\">\n  <br>\n  <h1 class=\"title\">存档</h1>\n  <h2 class=\"subtitle\">Workspace ({{workspaceCount}})</h2>\n  <hr>\n  <div class=\"field has-addons\">\n    <div class=\"control\">\n      <input class=\"input\" type=\"text\" placeholder=\"名字\" v-model=\"name\" v-on:keyup.enter=\"save\">\n    </div>\n    <div class=\"control\">\n      <button class=\"button is-info\" @click=\"save\">保存</button>\n    </div>\n  </div>\n  <hr>\n\n  <div class=\"field is-horizontal\" v-for=\"save in workspaceList\" :key=\"`save_${save}`\">\n    <div class=\"field-label is-normal\">\n      <label class=\"label\">{{save}}</label>\n    </div>\n    <div class=\"field-body\">\n      <div class=\"field is-grouped\">\n        <div class=\"control\"><button @click=\"load(save)\" class=\"button is-info\">载入</button></div>\n        <div class=\"control\"><button @click=\"remove(save)\" class=\"button is-light is-danger\"> 删除</button></div>\n      </div>\n    </div>\n  </div>\n\n  <br>\n</div>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex'\n\nimport { saveWorkspace, loadWorkspace, deleteWorkspace } from '@/worker'\n\nexport default {\n  data() {\n    return {\n      workspaceListLoaded: false,\n      name: ''\n    }\n  },\n  async mounted() {\n    await this.loadWorkspaceList()\n    this.workspaceListLoaded = true\n  },\n  computed: {\n    workspaceCount() {\n      if (this.workspaceListLoaded) {\n        return this.workspaceList.length\n      }\n      return 'loading...'\n    },\n    ...mapState(['workspaceList'])\n  },\n  methods: {\n    ...mapActions(['loadFileList', 'loadWorkspaceList']),\n    async save() {\n      const name = this.name\n      if (name) {\n        await saveWorkspace(name)\n        await this.loadWorkspaceList()\n      }\n    },\n    async load(name) {\n      await loadWorkspace(name)\n      await this.loadFileList()\n    },\n    async remove(name) {\n      await deleteWorkspace(name)\n      await this.loadWorkspaceList()\n    }\n  }\n}\n</script>\n\n<style scoped>\n.high {\n  min-height: 100vh;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Workspace.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Workspace.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Workspace.vue?vue&type=template&id=7f50a6a6&scoped=true&\"\nimport script from \"./Workspace.vue?vue&type=script&lang=js&\"\nexport * from \"./Workspace.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Workspace.vue?vue&type=style&index=0&id=7f50a6a6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f50a6a6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"content\"},[_c('br'),(_vm.username)?_c('status'):(_vm.code || _vm.token)?_c('codee',{attrs:{\"code\":_vm.code}}):_c('login')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',[_vm._v(\"GitHub账号\")]),_c('img',{attrs:{\"src\":_vm.extra.avatar,\"alt\":\"avatar\",\"height\":\"128px\",\"width\":\"128px\"}}),_c('p',[_vm._v(\"用户名: \"+_vm._s(_vm.username)+\" \"),_c('a',{attrs:{\"href\":_vm.extra.url,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.extra.url))]),_vm._v(\" \"),_c('br'),_vm._v(\" 昵称: \"+_vm._s(_vm.name)+\" \"),_c('br'),_vm._v(\" 邮箱: \"+_vm._s(_vm.email))]),_c('button',{staticClass:\"button\",on:{\"click\":_vm.logout}},[_vm._v(\"登出\")]),_c('br')])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n  <h3>GitHub账号</h3>\n  <img :src=\"extra.avatar\" alt=\"avatar\" height=\"128px\" width=\"128px\">\n  <p>用户名: {{username}}\n    <a :href=\"extra.url\" target=\"_blank\">{{extra.url}}</a> <br>\n    昵称: {{name}} <br>\n    邮箱: {{email}}</p>\n  <button class=\"button\" @click=\"logout\">登出</button>\n  <br>\n</div>\n</template>\n\n<script>\nimport { createNamespacedHelpers } from 'vuex'\n\nconst { mapState, mapActions } = createNamespacedHelpers('login')\n\nexport default {\n  computed: mapState(['username', 'name', 'email', 'extra']),\n  methods: {\n    ...mapActions(['updateToken']),\n    logout() {\n      this.updateToken()\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./status.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./status.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./status.vue?vue&type=template&id=70ef2e57&\"\nimport script from \"./status.vue?vue&type=script&lang=js&\"\nexport * from \"./status.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.fail || _vm.failed)?_c('p',[_vm._v(\"呜呜呜...登陆失败, 再试试吧QAQ\")]):_c('p',[_vm._v(\"登陆中...\")]),(_vm.fail || _vm.failed)?_c('login'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',[_vm._v(\"登陆GitHub\")]),_c('a',{attrs:{\"href\":_vm.url}},[_vm._v(\"通过GitHub登陆\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n  <h3>登陆GitHub</h3>\n  <a :href=\"url\">通过GitHub登陆</a>\n</div>\n</template>\n\n<script>\nimport { getGithubLoginUrl } from './w'\n\nexport default {\n  data() {\n    return { url: getGithubLoginUrl() }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=65ea46ba&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<div>\n  <p v-if=\"fail || failed\">呜呜呜...登陆失败, 再试试吧QAQ</p>\n  <p v-else>登陆中...</p>\n  <login v-if=\"fail || failed\"></login>\n</div>\n</template>\n\n<script>\nimport { createNamespacedHelpers } from 'vuex'\n\nimport { getToken } from './w'\nimport login from './login'\n\nconst { mapActions, mapState } = createNamespacedHelpers('login')\n\nexport default {\n  props: ['code'],\n  components: { login },\n  data() {\n    return { fail: false }\n  },\n  computed: mapState({ failed: 'fail' }),\n  async mounted() {\n    if (this.code) {\n      const token = await getToken(this.code).catch(() => undefined)\n      if (token) {\n        await this.updateToken(token)\n      } else {\n        this.fail = true\n      }\n    }\n  },\n  methods: mapActions(['updateToken'])\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./code.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./code.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./code.vue?vue&type=template&id=6a4f72a6&\"\nimport script from \"./code.vue?vue&type=script&lang=js&\"\nexport * from \"./code.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<div class=\"container\">\n  <div class=\"content\">\n    <br>\n    <status v-if=\"username\"></status>\n    <codee v-else-if=\"code || token\" :code=\"code\"></codee>\n    <login v-else></login>\n  </div>\n</div>\n</template>\n\n<script>\nimport { createNamespacedHelpers } from 'vuex'\n\nimport status from '@/components/login/status'\nimport codee from '@/components/login/code'\nimport login from '@/components/login/login'\n\nconst { mapState } = createNamespacedHelpers('login')\n\nexport default {\n  props: ['code'],\n  components: { login, codee, status },\n  computed: mapState(['username', 'token'])\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=1fe97561&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Home from '../views/Home.vue'\nimport Submit from '../views/Submit.vue'\nimport Edit from '../views/Edit.vue'\nimport Workspace from '../views/Workspace.vue'\nimport Login from '../views/Login.vue'\n\nVue.use(VueRouter)\n\nconst routes = [{\n  path: '/',\n  component: Home\n}, {\n  path: '/submit',\n  component: Submit\n}, {\n  path: '/edit',\n  component: Edit\n}, {\n  path: '/edit/:file',\n  component: Edit,\n  props: true\n}, {\n  path: '/workspace',\n  component: Workspace\n}, {\n  path: '/login',\n  component: Login,\n  props: route => ({ code: route.query.code })\n}]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nexport default router\n","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport { getList, loadFs, getMeta, diff, loadWorkspaceList } from '@/worker'\n\nimport { getUser, saveToken } from '@/components/login/w'\n\nVue.use(Vuex)\n\nconst login = {\n  namespaced: true,\n  state: {\n    username: undefined,\n    name: undefined,\n    token: undefined,\n    email: undefined,\n    fail: false,\n    extra: {},\n    commit: true\n  },\n  getters: {\n    currentState: state => {\n      if (state.username) {\n        return `(${state.name || state.username})`\n      } else if (state.fail) {\n        return '(登陆失败)'\n      } else if (state.token) {\n        return '(登陆中)'\n      }\n      return ''\n    },\n    command: state => {\n      if (state.commit && state.username) {\n        const command = [\n          ['name', state.name || state.username]\n        ]\n        if (state.email) {\n          command.push(['email', state.email])\n        }\n        return command\n      }\n      return []\n    }\n  },\n  mutations: {\n    setToken: (state, token) => {\n      state.token = token\n      saveToken(token)\n    },\n    fail: state => {\n      state.fail = true\n    },\n    setUsername: (state, username) => {\n      state.username = username\n    },\n    setName: (state, name) => {\n      state.name = name\n    },\n    setEmail: (state, email) => {\n      state.email = email\n    },\n    setExtra: (state, extra = {}) => {\n      state.extra = extra\n    },\n    setCommit: (state, newValue) => {\n      state.commit = newValue\n    }\n  },\n  actions: {\n    updateToken: async ({ commit }, token) => {\n      commit('setToken', token)\n      if (token) {\n        const { login, name, email, avatar, url } = await getUser(token).catch(() => ({}))\n        if (login) {\n          commit('setUsername', login)\n          commit('setExtra', { avatar, url })\n          if (name) {\n            commit('setName', name)\n          }\n          if (email) {\n            commit('setEmail', email)\n          }\n        } else {\n          commit('fail')\n        }\n      } else {\n        commit('setUsername')\n        commit('setExtra')\n        commit('setName')\n        commit('setEmail')\n      }\n    }\n  }\n}\n\nexport default new Vuex.Store({\n  state: {\n    fileList: [],\n    fsLoaded: false,\n    meta: {},\n    diff: [],\n    workspaceList: []\n  },\n  mutations: {\n    loadedFs(state) {\n      state.fsLoaded = true\n    },\n    updateFileList(state, newList) {\n      state.fileList = newList\n    },\n    updateMeta(state, meta) {\n      state.meta = meta\n    },\n    updateDiff(state, diff) {\n      state.diff = diff\n    },\n    updateWorkspaceList(state, list) {\n      state.workspaceList = list\n    }\n  },\n  actions: {\n    async loadFileList({ commit, dispatch }) {\n      const newList = await getList()\n      commit('updateFileList', newList)\n      await dispatch('loadDiff')\n    },\n    async loadFs({ commit }) {\n      await loadFs()\n      commit('updateMeta', await getMeta())\n      commit('loadedFs')\n    },\n    async loadDiff({ commit }) {\n      commit('updateDiff', await diff())\n    },\n    async loadWorkspaceList({ commit }) {\n      commit('updateWorkspaceList', await loadWorkspaceList())\n    }\n  },\n  modules: { login }\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\n\nimport './bulma.scss'\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vtb.vue?vue&type=style&index=0&id=1e94bd88&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vtb.vue?vue&type=style&index=0&id=1e94bd88&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./change.vue?vue&type=style&index=0&id=005d5cfb&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./change.vue?vue&type=style&index=0&id=005d5cfb&scoped=true&lang=css&\"","const { v5: uuidv5 } = require('uuid')\n\nmodule.exports = ({ vtbs, linkSyntax, UUID_NAMESPACE }) => ({\n  meta: { UUID_NAMESPACE, linkSyntax },\n  vtbs: vtbs\n    .map(({ name, object }) => ({ uuid: uuidv5(name, UUID_NAMESPACE), object }))\n    .map(({ uuid, object }) => ({ uuid, object: { ...object, name: Object.entries(object.name || {}) } }))\n    .map(({ uuid, object }) => ({ uuid, object: { ...object, accounts: Object.entries(object.accounts || {}) } }))\n    .map(({ uuid, object }) => {\n      const parsed = { uuid }\n      parsed.type = object.type || 'vtuber'\n      parsed.bot = !!object.bot\n\n      parsed.accounts = object.accounts\n        .map(([platform, ids]) => [platform, [ids].flat()])\n        .flatMap(([platform, ids]) => ids.map(id => ({ platform, id })))\n        .map(({ platform, id }) => typeof id === 'string' ? { platform, id: { id } } : { platform, id })\n        .map(({ platform, id }) => ({ ...id, type: id.type || 'official', platform }))\n\n      parsed.name = { extra: [] }\n      object.name\n        .map(([lang, name]) => typeof name === 'object' ? [lang, name] : [lang, [name]])\n        .forEach(([lang, names]) => names.forEach(name => {\n          if (parsed.name[lang]) {\n            parsed.name.extra.push(name)\n          } else {\n            parsed.name[lang] = name\n          }\n        }))\n      if (!parsed.name.default && (object.name[0] || [undefined])[0]) {\n        parsed.name.default = (object.name[0] || [undefined])[0]\n      }\n\n      if (object.group) {\n        parsed.group = uuidv5(object.group, UUID_NAMESPACE)\n      } else if (parsed.type === 'group') {\n        parsed.group = uuid\n      }\n\n      return parsed\n    }),\n})\n","const neverSubmit = {}\n\nmodule.exports = ({ vtbs }) => {\n  const errors = []\n  const knowAccounts = {}\n  const reportError = ({ platform, id, name }) => txt => errors.push(`${Object.values(name)[1]}, ${txt}: ${platform}, ${id}`)\n  vtbs\n    .forEach(({ accounts, name }) => accounts.forEach(({ id, platform, type }) => {\n      const reporter = reportError({ name, id, platform })\n      if (!id) {\n        reporter('id为空')\n      }\n      if (!knowAccounts[platform]) {\n        knowAccounts[platform] = {}\n      }\n      if (knowAccounts[platform][id]) {\n        reporter('重复提交的账户, Duplicated')\n      }\n      knowAccounts[platform][id] = true\n\n      const neverSubmitList = neverSubmit[platform] || []\n      if (neverSubmitList.includes(id)) {\n        reporter('不能提交的账户, Never Submit')\n      }\n    }))\n  return errors\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./issue.vue?vue&type=style&index=0&id=2e350816&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./issue.vue?vue&type=style&index=0&id=2e350816&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=28dbbbd7&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=28dbbbd7&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=style&index=0&id=110a231c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=style&index=0&id=110a231c&scoped=true&lang=css&\"","const no = '\\\\/:*\"<>|'.split('')\n\nmodule.exports = (_, files) => files\n  .filter(file => no.some(char => file.includes(char)))\n  .map(file => `非法文件名, illegal filename: ${file}, should not contain ${no.join('')}`)\n","module.exports = ({ vtbs, meta: { linkSyntax } }) => vtbs\n  .flatMap(({ accounts }) => accounts)\n  .map(({ id, platform }) => {\n    if (!linkSyntax[platform]) {\n      return `不明平台, unknow platform, ${platform}, ${id}`\n    }\n  })\n  .filter(Boolean)\n","module.exports = ({ vtbs }) => vtbs\n  .flatMap(({ accounts }) => accounts)\n  .map(({ id, platform }) => {\n    if (['bilibili', 'niconico', 'weibo'].includes(platform)) {\n      if (Number.isNaN(Number(id))) {\n        return `${platform} id: NaN, ${id}`\n      }\n    }\n  })\n  .filter(Boolean)\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./serialize.vue?vue&type=style&index=0&id=ad7d5b94&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./serialize.vue?vue&type=style&index=0&id=ad7d5b94&scoped=true&lang=css&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=5a852a3c&scoped=true&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=5a852a3c&scoped=true&lang=css&\"","import level from 'level'\n\nimport { warp } from './warp'\n\nimport vdbParse from '../vdb/parse'\nimport vdbTest from '../vdb/test'\n\nconst workspace = level('submit.vtbs.moe-workspace')\n\nlet list\nlet fs\nlet newFs\nlet newFsLowerCaseFileMap\nconst newFsJsonSearchMap = new Map()\n\nconst encodeBase64 = string => Buffer.from(string).toString('base64')\n\nconst fetchJson = async url => (await fetch(url)).json()\n\nconst updateNewFsJsonSearchMap = (files = Object.keys(newFs)) => [files].flat()\n  .forEach(file => {\n    newFsJsonSearchMap.set(file, `${file}${JSON.stringify(newFs[file]).toLowerCase()}`)\n  })\n\nexport const loadFs = warp(async () => {\n  fs = await fetchJson('https://vdb.vtbs.moe/json/fs.json')\n  if (!newFs) {\n    newFs = JSON.parse(JSON.stringify(fs))\n    newFsLowerCaseFileMap = Object.fromEntries(Object.keys(newFs)\n      .map(file => [file.toLowerCase(), file]))\n    updateNewFsJsonSearchMap()\n  }\n  list = await fetchJson('https://vdb.vtbs.moe/json/list.json')\n})\n\nexport const loadWorkspaceList = warp(() => new Promise(resolve => {\n  const list = []\n  workspace.createKeyStream()\n    .on('data', (key) => {\n      list.push(key)\n    })\n    .on('end', () => {\n      resolve(list)\n    })\n}))\n\nexport const saveWorkspace = warp(async name => {\n  await workspace.put(name, JSON.stringify(newFs))\n})\n\nexport const loadWorkspace = warp(async name => {\n  newFs = JSON.parse(await workspace.get(name))\n  newFsLowerCaseFileMap = Object.fromEntries(Object.keys(newFs)\n    .map(file => [file.toLowerCase(), file]))\n  updateNewFsJsonSearchMap()\n})\n\nexport const deleteWorkspace = warp(async name => {\n  await workspace.del(name)\n})\n\nexport const getMeta = warp(() => list.meta)\n\nexport const getFs = warp(() => newFs)\n\nexport const getList = warp(() => Object.keys(newFs).reverse())\n\nexport const getGroupList = warp(() => Object.entries(newFs)\n  .map(([file, { type }]) => ({ file, type }))\n  .filter(({ type }) => type === 'group')\n  .map(({ file }) => file.replace('.json', '')))\n\nexport const searchList = warp(keys => getList()\n  .map(file => [file, newFsJsonSearchMap.get(file)])\n  .filter(([_, content]) => keys.every(key => content.includes(key)))\n  .map(([file]) => file))\n\nexport const getVtbJson = warp(name => newFs[name])\n\nexport const deleteVtb = warp(file => {\n  delete newFs[file]\n  delete newFsLowerCaseFileMap[file.toLowerCase()]\n  newFsJsonSearchMap.delete(file)\n})\n\nexport const saveVtb = warp((file, data) => {\n  const fileLowerCase = file.toLowerCase()\n  const currentFile = newFsLowerCaseFileMap[fileLowerCase]\n  if (currentFile) {\n    deleteVtb(currentFile)\n  }\n  newFs[file] = data\n  newFsLowerCaseFileMap[fileLowerCase] = file\n  updateNewFsJsonSearchMap(file)\n})\n\nexport const resetVtb = warp(file => {\n  if (fs[file]) {\n    saveVtb(file, JSON.parse(JSON.stringify(fs[file])))\n  } else {\n    deleteVtb(file)\n  }\n})\n\nconst parse = () => vdbParse({ ...list.meta, vtbs: Object.entries(newFs).map(([name, object]) => [name.replace('.json', ''), object]).map(([name, object]) => ({ name, object })) })\n\nexport const test = warp(() => vdbTest(parse(), Object.keys(newFs)))\n\nconst diffFile = file => {\n  if (!newFs[file]) {\n    return 'remove'\n  }\n  if (!fs[file]) {\n    return 'add'\n  }\n  if (JSON.stringify(fs[file]) !== JSON.stringify(newFs[file])) {\n    return 'update'\n  }\n  return undefined\n}\n\nexport const diff = warp(() => [...new Set([...Object.keys(fs), ...Object.keys(newFs)])]\n  .map(file => [file, diffFile(file)])\n  .filter(([_, status]) => status))\n\nconst generateLink = file => {\n  const { accounts = {} } = newFs[file]\n  const { linkSyntax } = getMeta()\n  return Object.entries(accounts)\n    .map(([platform, ids]) => [linkSyntax[platform], ids])\n    .map(w => w.flat())\n    .map(([platform, ...ids]) => [platform, ids.map(id => id.id || id)])\n    .flatMap(([linkFormat = '{id}', ...ids]) => ids.map(id => linkFormat.replace('{id}', id)))\n}\n\nconst describeDiff = () => {\n  const change = diff()\n  return change\n    .map(([file, status]) => {\n      if (status === 'add' || status === 'update') {\n        const links = generateLink(file)\n          .map(link => link.startsWith('http') ? `<${link}>` : link)\n          .map(link => `> ${link}`)\n          .join('\\n')\n        if (links.length) {\n          return [file, status, `\\n${links}\\n`]\n        }\n      }\n      return [file, status]\n    })\n    .map(([file, status, detail = '']) => `${status}: ${file}${detail}`)\n    .sort()\n    .join('\\n')\n}\n\nexport const serializeDiff = warp((extraCommands = []) => {\n  const change = diff()\n  const command = change\n    .map(([file, status]) => {\n      switch (status) {\n        case 'remove':\n          return ['delete', file]\n        case 'add':\n        case 'update':\n          return ['put', file, JSON.stringify(getVtbJson(file), undefined, 2)]\n        default:\n      }\n    })\n    .filter(Boolean)\n  if (!command.length) {\n    return []\n  }\n  return [...extraCommands, ...command]\n})\n\nconst encodeDiff = extraCommands => {\n  const command = serializeDiff(extraCommands)\n  return encodeBase64(command\n    .map(([cmd, file, content]) => {\n      const line = [cmd, encodeBase64(file)]\n      if (content) {\n        line.push(encodeBase64(content))\n      }\n      return line\n    })\n    .map(cmds => cmds.join(':'))\n    .join('\\n'))\n}\n\nexport const makeIssue = warp((input, extraCommands) => {\n  const command = encodeDiff(extraCommands)\n  const description = describeDiff()\n\n  return `${input}\n\n### description\n\n${description}\n\n\\`\\`\\`\n-----BEGIN SUBMIT BLOCK-----${command}-----END SUBMIT BLOCK-----\n\\`\\`\\`\n\nSubmit from <https://submit.vtbs.moe>, please evaluate the automatic Pull Request`\n})\n\nexport const submitDiff = warp(async (input, extraCommands, token) => {\n  const body = makeIssue(input, extraCommands)\n\n  const Authorization = token ? `token ${token}` : 'Basic ZGQtY2VudGVyLWJvdDpkZDBiMmY0MjE4OThmNjAzZGYwNGM0NzdkMzQyNmU5MzE4MWRlZTUy'\n\n  console.log({ Authorization })\n\n  const response = await fetch('https://api.github.com/repos/dd-center/vdb/issues', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization\n    },\n    body: JSON.stringify({ title: 'Change requested from submit.vtbs.moe', body })\n  })\n  const { html_url: url } = await response.json()\n  return url\n})\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Workspace.vue?vue&type=style&index=0&id=7f50a6a6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Workspace.vue?vue&type=style&index=0&id=7f50a6a6&scoped=true&lang=css&\""],"sourceRoot":""}